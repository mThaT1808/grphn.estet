---
import Container from '@components/container/container.astro'
import Link from '@components/uikit/Link/Link.astro'
import Title from '@components/uikit/Title/Title.astro'
import Choice from '@components/uikit/Choice/Choice.astro'
import './style.scss'
import Icon from '@components/uikit/Icon/Icon.astro'

export interface Props {
    title?: string;
    mod?: string;
}

const { title, mod } = Astro.props;

const item = [
    {
        class: 'shop-slider',
        classText: 'slider__text',
        title: 'Фирменный салон ESTET',
        text: 'Советский район, ул. Бекетова, д.13, литер "А", СЦ Бекетов, 3'
    },
    {
        class: 'shop-slider',
        classText: 'slider__text',
        title: 'Фирменный салон ESTET',
        text: 'г. Хабаровск, ул. Ленинградская 28, ТЦ ЭкоДом, сектор дверей'
    },
    {
        class: 'shop-slider',
        classText: 'slider__text',
        title: 'Фирменный салон ESTET',
        text: 'г. Новокузнецк, Октябрьский проспект, 13'
    },
    {
        class: 'shop-slider',
        classText: 'slider__text',
        title: 'Фирменный салон ESTET',
        text: 'г. Самара, ул. Красноармейская, д.1, ТЦ "Кубатура", к. 1, 1 этаж, секция 117.6'
    },
    {
        class: 'shop-slider',
        classText: 'slider__text',
        title: 'Фирменный салон ESTET',
        text: 'г. Ульяновск, ул.Шолмова 20, ТЦ СтройГрад, 3 этаж, салон 85'
    },
];
const triplItem = item.concat(item, item);
const slideLink = 'javascript:void(0);';
---
<section class:list={["shop", mod? `shop--${mod}`:'']}>
    {
        mod?
        <a href={slideLink} class="shop__show-map">
            <div class="shop__map-icon">
                <Icon name="map-pin" mod="white"/>
            </div>
            <p class="shop__map-text">
                Показать на карте
            </p>
        </a>:
        ''
    }
    <Container>
        <div class="shop__wrapper">
            <Title Tag="h2" class="shop">
                {
                    title?
                    `${title}`:
                    'Магазины'
                }
            </Title>
            <Choice class="shop"></Choice>
            <ul class="slider slider--shop">
                {
                    triplItem.map((item) => (
                        <li class="slider__item">
                            <a = {slideLink} class="slider__link">
                                <Title Tag="h3" class="shop-slider">{item.title}</Title>
                                <address class="slider__text">{item.text}</address>
                            </a>
                        </li>
                    ))
                }
            </ul>
            <div class="shop__row-wrapper">
                <Link href={slideLink} class="link--shop">Все салоны</Link>
                <div class="arrow-box">
                    <button class="arrow arrow--shop-prev"><Icon name="arrow-61" mod="shop"></Icon></button>
                    <button class="arrow arrow--shop-next"><Icon name="arrow-61" mod="shop"></Icon></button>
                </div>
            </div>
        </div>
    </Container>
</section>

<script src="./openMap.js"></script>
<script src="./script.js"></script>